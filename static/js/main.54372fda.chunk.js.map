{"version":3,"sources":["state.js","panels/Start.js","panels/NewPodcast.js","panels/Finish.js","components/Timecode.js","panels/Edit.js","panels/Show.js","App.js","index.js"],"names":["state","getState","forceClear","s","newState","image","name","desc","podcastFile","isExplicit","isExcludedFromExport","isTrailer","availableTo","timecodes","fileName","duration","setState","obj","sort","compare","a","b","time","targets","Start","id","go","stretched","action","onClick","style","display","justifyContent","marginBottom","level","weight","color","osName","platform","NewPodcast","useState","setImage","setName","setDesc","setPodcastFile","setIsExplicit","setIsExcludedFromExport","setIsTrailer","setAvailableTo","setFileName","useEffect","goNext","saveState","left","window","history","back","IOS","className","backgroundImage","onChange","e","files","target","dataTransfer","length","file","reader","FileReader","onload","fr","dataUri","result","toString","readAsDataURL","type","accept","width","top","placeholder","value","currentTarget","before","opacity","marginLeft","Component","mode","size","marginTop","checked","Number","parseInt","defaultValue","map","r","i","key","Timecode","idx","remove","setTime","text","setText","tc","t","m","Math","floor","padStart","getTime","arr","split","getSeconds","Edit","ws","setWs","isPlaying","setIsPlaying","prevBuffer","setPrevBuffer","fadeLeft","setFadeLeft","fadeRight","setFadeRight","cTime","setCTime","setTimecodes","wavesurfer","WaveSurfer","create","container","waveColor","progressColor","cursorColor","height","barGap","barWidth","barHeight","barRadius","fillParent","scrollParent","plugins","RegionPlugin","TimelinePlugin","notchPercentHeight","primaryColor","secondaryColor","primaryFontColor","secondaryFontColor","on","d","getDuration","rd","rVal","Object","values","regions","list","end","start","clearRegions","max","sr","min","addRegion","loadBlob","setVolume","playPause","original_buffer","backend","buffer","newLength","new_buffer","ac","createBuffer","numberOfChannels","sampleRate","first_list_index","second_list_index","second_list_mem_alloc","new_list","Float32Array","second_list","combined","copyFromChannel","set","copyToChannel","loadDecodedBuffer","setTimeout","cut","pause","undo","marginRight","header","splice","removeTimecode","push","getCurrentTime","Show","src","caption","h","shortDuration","App","activePanel","setActivePanel","changePanel","p","pushState","panel","onpopstate","bridge","subscribe","detail","data","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","Finish","send","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.54372fda.chunk.js","sourcesContent":["let state = null;\n\nexport const getState = (forceClear) => {\n    const s = state;\n    if (!s || forceClear) {\n        const newState = {\n            image: '',\n            name: '',\n            desc: '',\n            podcastFile: '',\n            isExplicit: false,\n            isExcludedFromExport: false,\n            isTrailer: false,\n            availableTo: 0,\n            timecodes: [],\n            fileName: '',\n            duration: 0,\n        };\n\n        state = newState;\n        return newState;\n    } else {\n        return s;\n    }\n};\n\nexport const setState = (obj) => {\n    const s = getState();\n    const newState = {...s, ...obj};\n    state = newState;\n    state.timecodes.sort(compare);\n    return newState;\n};\n\nconst compare = (a, b) => {\n    return a.time - b.time;\n};\n\nexport const targets = [\n    \"Всем пользователям\",\n    \"Друзьям и подписчикам\",\n    \"Только друзьям\"\n];\n","import React from 'react';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport {Button, Panel, PanelHeader, Placeholder, Title} from \"@vkontakte/vkui\";\nimport Icon56AddCircleOutline from '@vkontakte/icons/dist/56/add_circle_outline';\nimport {getState} from \"../state\";\n\nconst Start = ({id, go}) => {\n\n    const goNext = () => {\n        getState(true);\n        go(\"newPodcast\");\n    };\n\n    return (\n        <Panel id={id}>\n            <PanelHeader>Подкаст</PanelHeader>\n            <Placeholder stretched action={<Button onClick={goNext}>Добавить подкаст</Button>}>\n                <div style={{display: 'flex', justifyContent: 'center', marginBottom: 10}}>\n                    <Icon56AddCircleOutline/>\n                </div>\n                <Title level=\"2\" weight=\"semibold\" style={{color: 'black', marginBottom: 10}}>\n                    Добавьте первый подкаст\n                </Title>\n                Добавляйте, редактируйте и делитесь<br/>подкастами вашего соообщеста.\n            </Placeholder>\n        </Panel>\n    );\n}\n\nexport default Start;\n","import React, {useState, useEffect} from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {\r\n    PanelHeaderButton,\r\n    FormLayout,\r\n    Input,\r\n    Panel,\r\n    PanelHeader,\r\n    platform,\r\n    IOS,\r\n    Textarea,\r\n    Button,\r\n    Div,\r\n    Separator,\r\n    Title,\r\n    Placeholder,\r\n    Checkbox,\r\n    FormLayoutGroup,\r\n    Select,\r\n    SimpleCell, Caption,\r\n} from \"@vkontakte/vkui\";\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon28PictureOutline from '@vkontakte/icons/dist/28/picture_outline';\r\nimport {getState, setState, targets} from \"../state\";\r\nimport \"./NewPodcast.css\";\r\nimport {Icon28PodcastOutline} from \"@vkontakte/icons\";\r\n\r\nconst osName = platform();\r\n\r\nconst NewPodcast = ({id, go}) => {\r\n    const [image, setImage] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n    const [desc, setDesc] = useState(\"\");\r\n    const [podcastFile, setPodcastFile] = useState(null);\r\n    const [isExplicit, setIsExplicit] = useState(false);\r\n    const [isExcludedFromExport, setIsExcludedFromExport] = useState(false);\r\n    const [isTrailer, setIsTrailer] = useState(false);\r\n    const [availableTo, setAvailableTo] = useState(0);\r\n    const [fileName, setFileName] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        const state = getState();\r\n        setImage(state.image);\r\n        setName(state.name);\r\n        setDesc(state.desc);\r\n        setPodcastFile(state.podcastFile);\r\n        setIsExplicit(state.isExplicit);\r\n        setIsExcludedFromExport(state.isExcludedFromExport);\r\n        setIsTrailer(state.isTrailer);\r\n        setAvailableTo(state.availableTo);\r\n        setFileName(state.fileName);\r\n    }, []);\r\n\r\n    const imageFileSelected = (e) => {\r\n        const files = e.target.files || e.dataTransfer.files;\r\n        if (!files.length) return;\r\n        const file = files[0];\r\n\r\n        const reader = new FileReader();\r\n        reader.onload = (fr) => {\r\n            const dataUri = fr.target.result.toString();\r\n            setImage(dataUri);\r\n        };\r\n\r\n        reader.readAsDataURL(file);\r\n    };\r\n\r\n    const podcastFileSelected = (e) => {\r\n        const files = e.target.files || e.dataTransfer.files;\r\n        if (!files.length) return;\r\n        const file = files[0];\r\n\r\n        const reader = new FileReader();\r\n        reader.onload = () => {\r\n            setFileName(file.name);\r\n            setPodcastFile(file);\r\n        };\r\n\r\n        reader.readAsDataURL(file);\r\n    };\r\n\r\n    const clearImage = () => {\r\n        setImage(\"\");\r\n    };\r\n\r\n    const openEdit = () => {\r\n        saveState();\r\n        go(\"edit\");\r\n    };\r\n\r\n    const goNext = () => {\r\n        if (image && name && desc && podcastFile) {\r\n            saveState();\r\n            go(\"show\");\r\n        }\r\n    };\r\n\r\n    const saveState = () => {\r\n        setState({\r\n            image,\r\n            name,\r\n            desc,\r\n            podcastFile,\r\n            isExplicit,\r\n            isExcludedFromExport,\r\n            isTrailer,\r\n            availableTo,\r\n            fileName,\r\n        });\r\n    };\r\n\r\n    return (\r\n        <Panel id={id} >\r\n             <PanelHeader\r\n                left={<PanelHeaderButton onClick={() => window.history.back()}>\r\n                    {osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n                </PanelHeaderButton>}\r\n            >\r\n                Новый подкаст\r\n            </PanelHeader>\r\n            <Div style={{ display: 'flex'}}>\r\n                {image\r\n                    ? <div className=\"bg-image\" style={{backgroundImage: `url(${image})`}}>\r\n                        <div className=\"remove-btn\" onClick={clearImage}>✕</div>\r\n                    </div>\r\n                    : <label>\r\n                        <div className=\"select-file\">\r\n                            <div className=\"sf-text\"><Icon28PictureOutline/></div>\r\n                        </div>\r\n                        <input onChange={imageFileSelected} type=\"file\" accept=\"image/*\" style={{display: \"none\"}}/>\r\n                    </label>\r\n                }\r\n                <div style={{ width: 'calc(100% - 72px)'}}>\r\n                    <FormLayout className = 'formLayoutName' >\r\n                        <Input\r\n                            top=\"Название\"\r\n                            placeholder=\"Введите название подкаста\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.currentTarget.value)}\r\n                        />\r\n                    </FormLayout>\r\n                </div>\r\n            </Div>\r\n            <FormLayout>\r\n                <Textarea\r\n                    top=\"Описание подкаста\"\r\n                    placeholder=\"\"\r\n                    value={desc}\r\n                    onChange={(e) => setDesc(e.currentTarget.value)}\r\n                />\r\n            </FormLayout>\r\n            {!podcastFile ?\r\n            <Placeholder className=\"load-block\" action={\r\n                <label>\r\n                    <Button Component=\"div\" mode=\"outline\" onClick={goNext}>Загрузить файл</Button>\r\n                    <input onChange={podcastFileSelected} type=\"file\" accept=\"audio/*\" style={{display: \"none\"}}/>\r\n                </label>\r\n            }>\r\n                <Title level=\"2\" weight=\"semibold\" style={{color: 'black', marginBottom: 10}}>\r\n                    Загрузите Ваш подкаст\r\n                </Title>\r\n                Выберите готовый аудиофайл из вашего телефона и добавьте его\r\n            </Placeholder>\r\n            : <SimpleCell before={<div className=\"podcast-icon\"><Icon28PodcastOutline style={{opacity: 0.4}}/></div>}>\r\n                    <span style={{marginLeft: 12}}>{fileName}</span>\r\n            </SimpleCell>}\r\n            {podcastFile && <Div>\r\n                <Caption level=\"2\" weight=\"regular\" style={{color: 'var(--text_placeholder)'}}>\r\n                    Вы можете добавить таймкоды и скорректировать подкаст в режиме редактирования\r\n                </Caption>\r\n                <Button\r\n                    size=\"xl\"\r\n                    mode=\"outline\"\r\n                    onClick={openEdit}\r\n                    style={{marginTop: 16}}\r\n                >Редактировать аудиозапись</Button>\r\n            </Div>}\r\n            <Separator/>\r\n            <FormLayout>\r\n                <FormLayoutGroup>\r\n                    <Checkbox checked={isExplicit} onChange={(e) => setIsExplicit(e.currentTarget.checked)}>\r\n                        Ненормативный контент\r\n                    </Checkbox>\r\n                    <Checkbox checked={isExcludedFromExport} onChange={(e) => setIsExcludedFromExport(e.currentTarget.checked)}>\r\n                        Исключить эпизод из экспорта\r\n                    </Checkbox>\r\n                    <Checkbox checked={isTrailer} onChange={(e) => setIsTrailer(e.currentTarget.checked)}>\r\n                        Трейлер подкаста\r\n                    </Checkbox>\r\n                </FormLayoutGroup>\r\n                <Select\r\n                    top=\"Кому доступен подкаст\"\r\n                    onChange={(e) => {\r\n                        setAvailableTo(Number.parseInt(e.currentTarget.value, 10));\r\n                    }}\r\n                    defaultValue={availableTo.toString()}\r\n                >\r\n                    {targets.map((r, i) => <option value={i} key={i}>{r}</option>)}\r\n                </Select>\r\n                <Button\r\n                    size=\"xl\"\r\n                    onClick={goNext}\r\n                    style={{opacity : image && name && desc && podcastFile ? 1.0 : 0.5}}\r\n                >Далее</Button>\r\n            </FormLayout>\r\n        </Panel>\r\n        );\r\n    }\r\n\r\nexport default NewPodcast;\r\n","import React from 'react';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport {Button, Panel, PanelHeader, Placeholder, Title} from \"@vkontakte/vkui\";\nimport Icon56CheckCircleOutline from '@vkontakte/icons/dist/56/check_circle_outline';\nimport {getState} from \"../state\";\n\nconst Start = ({id, go}) => {\n\n    const goNext = () => {\n        //getState(true);\n        //go(\"start\");\n    };\n\n    return (\n\n        <Panel id={id}>\n            <PanelHeader>Подкасты</PanelHeader>\n            <Placeholder stretched action={\n                <Button onClick={goNext}>Поделиться подкастом</Button>\n            }>\n                <div style={{display: 'flex', justifyContent: 'center', marginBottom: 10}}>\n                    <Icon56CheckCircleOutline style={{color: 'var(--accent)'}}/>\n                </div>\n\n                <Title level=\"2\" weight=\"semibold\" style={{color: 'black', marginBottom: 10}}>Подкаст добавлен</Title>\n\n                Расскажите своим подписчиками<br/>\n                о новом подкасте, чтобы получить<br/>\n                больше слушателей\n            </Placeholder>\n        </Panel>\n    );\n}\n\nexport default Start;\n","import React, {useState, useEffect} from 'react';\r\nimport {Input} from \"@vkontakte/vkui\";\r\nimport {Icon24DismissDark} from \"@vkontakte/icons\";\r\nimport \"./Timecode.css\";\r\nimport {getState} from \"../state\";\r\n\r\nconst Timecode = ({timecodes, idx, remove}) => {\r\n    const [time, setTime] = useState(0);\r\n    const [text, setText] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        const state = getState();\r\n        const tc = state.timecodes[idx];\r\n        setTime(tc.time);\r\n        setText(tc.text);\r\n    }, []);\r\n\r\n    const assignTime = (t) => {\r\n        setTime(t);\r\n        const state = getState();\r\n        const tc = state.timecodes[idx];\r\n        tc.time = t;\r\n    };\r\n\r\n    const assignText = (t) => {\r\n        setText(t);\r\n        const state = getState();\r\n        const tc = state.timecodes[idx];\r\n        tc.text = t;\r\n    };\r\n\r\n    const getTime = (t) => {\r\n        const m = Math.floor(t / 60);\r\n        const s = Math.floor(t - m * 60).toString();\r\n        return `${m.toString().padStart(2, \"0\")}:${s.padStart(2, \"0\")}`;\r\n    };\r\n\r\n    const getSeconds = (s) => {\r\n        const arr = s.split(\":\");\r\n        if (arr.length === 0) return 0;\r\n        else if (arr.length === 1) return Number.parseInt(arr[0]);\r\n        else return Number.parseInt(arr[0]) * 60 + Number.parseInt(arr[1]);\r\n    };\r\n\r\n    return <div className=\"timecode\">\r\n        <Icon24DismissDark\r\n            onClick={remove}\r\n            style={{marginLeft: 12, marginTop: 10}}\r\n        />\r\n        <Input\r\n            value={text}\r\n            onChange={(e) => assignText(e.currentTarget.value)}\r\n        />\r\n        <Input\r\n            type=\"time\"\r\n            value={getTime(time)}\r\n            onChange={(e) => assignTime(getSeconds(e.currentTarget.value))}\r\n        />\r\n    </div>;\r\n}\r\n\r\nexport default Timecode;\r\n","import React,{useEffect, useState} from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {Panel, PanelHeader, PanelHeaderButton, IOS, platform, Button, Group, CellButton, Header} from \"@vkontakte/vkui\";\r\nimport {getState, setState} from \"../state\";\r\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\r\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\r\nimport WaveSurfer from 'wavesurfer.js';\r\nimport RegionPlugin from 'wavesurfer.js/dist/plugin/wavesurfer.regions.min.js';\r\nimport TimelinePlugin from 'wavesurfer.js/dist/plugin/wavesurfer.timeline.min.js';\r\nimport \"./Edit.css\";\r\nimport {Icon24Add, Icon24ArrowUturnLeftOutline, Icon24Pause, Icon24Play} from \"@vkontakte/icons\";\r\nimport Timecode from \"../components/Timecode\";\r\n\r\nconst osName = platform();\r\n\r\nconst Edit = ({id}) => {\r\n    const [ws, setWs] = useState(null);\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [prevBuffer, setPrevBuffer] = useState(null);\r\n    const [fadeLeft, setFadeLeft] = useState(false);\r\n    const [fadeRight, setFadeRight] = useState(false);\r\n    const [cTime, setCTime] = useState(0.0);\r\n    const [timecodes, setTimecodes] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const state = getState();\r\n        const wavesurfer = WaveSurfer.create({\r\n            container: '#waveform',\r\n            waveColor: '#4986cc',\r\n            progressColor: '#4986cc',\r\n            cursorColor: '#FF3347',\r\n            height: 96,\r\n            barGap: 3,\r\n            barWidth: 2,\r\n            barHeight: 0.65,\r\n            barRadius: 2,\r\n            fillParent: false,\r\n            scrollParent: true,\r\n            plugins: [\r\n                RegionPlugin.create({}),\r\n                TimelinePlugin.create({\r\n                    container: '#timeline',\r\n                    notchPercentHeight: 40,\r\n                    primaryColor: '#99A2AD',\r\n                    secondaryColor: '#99A2AD',\r\n                    primaryFontColor: '#99A2AD',\r\n                    secondaryFontColor: '#99A2AD',\r\n                    height: 14,\r\n                }),\r\n            ],\r\n        });\r\n\r\n        setWs(wavesurfer);\r\n        setTimecodes(state.timecodes);\r\n\r\n        wavesurfer.on('seek', (r) => {\r\n            const d = wavesurfer.getDuration();\r\n            const rd = r * d;\r\n            const rVal = Object.values(wavesurfer.regions.list);\r\n            if (rVal.length > 0 && (rd > rVal[0].end || rd < rVal[0].start)) {\r\n                wavesurfer.clearRegions();\r\n            } else if (rVal.length === 0) {\r\n                const fr = Math.max(0, rd - 5);\r\n                const sr = Math.min(rd + 5, d);\r\n                wavesurfer.clearRegions();\r\n                wavesurfer.addRegion({\r\n                    start: fr,\r\n                    end: sr\r\n                });\r\n            }\r\n        });\r\n        wavesurfer.on('ready', () => {\r\n            setState({duration: wavesurfer.getDuration()});\r\n        });\r\n        wavesurfer.on('play', () => {\r\n            setIsPlaying(true);\r\n        });\r\n        wavesurfer.on('pause', () => {\r\n            setIsPlaying(false);\r\n        });\r\n        wavesurfer.loadBlob(state.podcastFile);\r\n        wavesurfer.on('audioprocess', (e) => {\r\n            setCTime(e);\r\n        });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!ws) return;\r\n        const d = ws.getDuration();\r\n        if (fadeLeft && cTime < 3) {\r\n            ws.setVolume(cTime / 3);\r\n        } else if (fadeRight && cTime > d - 3) {\r\n            ws.setVolume((d - cTime) / 3);\r\n        } else {\r\n            ws.setVolume(1);\r\n        }\r\n    }, [cTime]);\r\n\r\n    const cut = () => {\r\n        const rVal = Object.values(ws.regions.list);\r\n        if(rVal.length > 0) {\r\n            const original_buffer = ws.backend.buffer;\r\n            const newLength = ws.getDuration() - (rVal[0].end - rVal[0].start);\r\n            const new_buffer      = ws.backend.ac.createBuffer(original_buffer.numberOfChannels, newLength * original_buffer.sampleRate, original_buffer.sampleRate);\r\n\r\n            setPrevBuffer(original_buffer);\r\n\r\n            const first_list_index        = (rVal[0].start * original_buffer.sampleRate);\r\n            const second_list_index       = (rVal[0].end * original_buffer.sampleRate);\r\n            const second_list_mem_alloc   = (original_buffer.length - (rVal[0].end * original_buffer.sampleRate));\r\n\r\n            const new_list        = new Float32Array( parseInt( first_list_index ));\r\n            const second_list     = new Float32Array( parseInt( second_list_mem_alloc ));\r\n            const combined        = new Float32Array( new_list.length + second_list.length  );\r\n\r\n            original_buffer.copyFromChannel(new_list, 0);\r\n            original_buffer.copyFromChannel(second_list, 0, second_list_index);\r\n\r\n            combined.set(new_list);\r\n            combined.set(second_list, first_list_index);\r\n\r\n            new_buffer.copyToChannel(combined, 0);\r\n            new_buffer.copyToChannel(combined, 1);\r\n\r\n            ws.loadDecodedBuffer(new_buffer);\r\n            setTimeout(() => {\r\n                setState({duration: ws.getDuration()});\r\n            }, 2000);\r\n        }\r\n    };\r\n\r\n    const undo = () => {\r\n        if (!prevBuffer) return;\r\n        try {\r\n            ws.pause();\r\n            ws.loadDecodedBuffer(prevBuffer);\r\n            setPrevBuffer(null);\r\n        } catch (e) {}\r\n    };\r\n\r\n    const playPause = () => {\r\n        try {\r\n            ws.playPause();\r\n        } catch (e){}\r\n    };\r\n\r\n    const fLeft = () => {\r\n        setFadeLeft(!fadeLeft);\r\n    };\r\n\r\n    const fRight = () => {\r\n        setFadeRight(!fadeRight);\r\n    };\r\n\r\n    const addTimecode = () => {\r\n        const state = getState();\r\n        state.timecodes.push({\r\n            text: `Таймкод #${state.timecodes.length - (-1)}`,\r\n            time: ws.getCurrentTime()\r\n        });\r\n        setTimecodes([...state.timecodes]);\r\n    };\r\n\r\n    const removeTimecode = (idx) => {\r\n        const state = getState();\r\n        state.timecodes.splice(idx, 1);\r\n        setTimecodes([...state.timecodes]);\r\n    };\r\n\r\n    return (\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n                left={<PanelHeaderButton onClick={() => window.history.back()}>\r\n                    {osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n                </PanelHeaderButton>}\r\n            >\r\n                Редактирование\r\n            </PanelHeader>\r\n            <div className=\"wf-container\">\r\n                <div id=\"timeline\"/>\r\n                <div id=\"waveform\"/>\r\n            </div>\r\n            <div className=\"btns-container\">\r\n                <Button onClick={playPause} className=\"square-btn\" before={\r\n                    isPlaying\r\n                        ? <Icon24Pause style={{marginLeft: 12}}/>\r\n                        : <Icon24Play style={{marginLeft: 10}}/>\r\n                }/>\r\n                <div style={{display: 'flex'}}>\r\n                    <Button onClick={() => {cut()}} className=\"square-btn\" before={<div className=\"scissors\"/>} mode=\"secondary\"/>\r\n                    <Button\r\n                        onClick={() => {undo()}}\r\n                        className=\"square-btn\"\r\n                        before={<Icon24ArrowUturnLeftOutline style={{marginLeft: 10}}/>}\r\n                        style={{marginLeft: 4, opacity: prevBuffer ? 1.0 : 0.5}}\r\n                        mode=\"secondary\"\r\n                    />\r\n                </div>\r\n                <div style={{display: 'flex'}}>\r\n                    <Button\r\n                        className=\"square-btn\"\r\n                        before={<div className={`bc-${fadeLeft ? 'white' : 'blue'}-left`}/>}\r\n                        style={{marginRight: 4}}\r\n                        mode={fadeLeft ? 'primary' : 'secondary'}\r\n                        onClick={fLeft}\r\n                    />\r\n                    <Button\r\n                        className=\"square-btn\"\r\n                        before={<div className={`bc-${fadeRight ? 'white' : 'blue'}-right`}/>}\r\n                        mode={fadeRight ? 'primary' : 'secondary'}\r\n                        onClick={fRight}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <Group header={<Header mode=\"secondary\">Таймкоды</Header>}>\r\n                {timecodes.map((tc, i) => <Timecode idx={i} key={i} remove={() => removeTimecode(i)}/>)}\r\n                <CellButton before={<Icon24Add/>} onClick={addTimecode}>Добавить таймкод</CellButton>\r\n            </Group>\r\n        </Panel>\r\n    );\r\n}\r\n\r\nexport default Edit;\r\n","import React,{useState} from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {\r\n    IOS,\r\n    Panel,\r\n    PanelHeader,\r\n    PanelHeaderButton,\r\n    platform,\r\n    RichCell,\r\n    Avatar,\r\n    Separator,\r\n    Div,\r\n    Group, Link, Title, Button\r\n} from \"@vkontakte/vkui\";\r\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\r\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\r\nimport {getState} from \"../state\";\r\nimport \"./Show.css\";\r\n\r\nconst osName = platform();\r\n\r\nconst Show = ({id, go}) => {\r\n\r\n    const [state, setState] = useState(getState());\r\n\r\n    const goNext = () => {\r\n        go(\"finish\");\r\n    };\r\n    const getDuration = () => {\r\n        const h = Math.floor(state.duration / 3600);\r\n        const m = Math.floor((state.duration - h * 3600) / 60);\r\n        const s = Math.floor(state.duration - h * 3600 - m * 60);\r\n        return `${h}:${m.toString().padStart(2, \"0\")}:${s.toString().padStart(2, \"0\")}`;\r\n    };\r\n    const shortDuration = (t) => {\r\n        const m = Math.floor(t / 60);\r\n        const s = Math.floor(t - m * 60);\r\n        return `${m.toString().padStart(2, \"0\")}:${s.toString().padStart(2, \"0\")}`;\r\n    };\r\n\r\n    return (\r\n\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n                left={<PanelHeaderButton onClick={() => window.history.back()}>\r\n                    {osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n                </PanelHeaderButton>}\r\n            >\r\n                Новый подкаст\r\n            </PanelHeader>\r\n            <RichCell\r\n                before={<Avatar mode=\"app\" size={48} src={state.image} />}\r\n                text=\"Васиий Иванов\"\r\n                caption={`Длительность: ${getDuration()}`}\r\n            >\r\n                {state.name}\r\n            </RichCell>\r\n            <Separator/>\r\n            <Div>\r\n                <Group header={<Title style={{marginTop: 0}} level=\"3\" weight=\"semibold\">Описание</Title>}>\r\n                    {state.desc}\r\n                </Group>\r\n            </Div>\r\n            <Separator/>\r\n            <Div>\r\n                <Group header={<Title style={{marginTop: 0, marginBottom: 8}} level=\"3\" weight=\"semibold\">Содержание</Title>}>\r\n                    {state.timecodes.map((tc) => <div style={{marginBottom: 8}}>\r\n                        <Link>{shortDuration(tc.time)}</Link> — {tc.text}\r\n                    </div>)}\r\n                </Group>\r\n            </Div>\r\n            <Button\r\n                size=\"xl\"\r\n                onClick={goNext}\r\n                className=\"bottom-btn\"\r\n            >\r\n                Опубликовать\r\n            </Button>\r\n        </Panel>\r\n    );\r\n}\r\n\r\nexport default Show;\r\n","import React, { useState, useEffect } from 'react';\nimport {View} from \"@vkontakte/vkui\";\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Start from \"./panels/Start\";\nimport NewPodcast from \"./panels/NewPodcast\";\nimport Finish from \"./panels/Finish\";\nimport \"./App.css\";\nimport Edit from \"./panels/Edit\";\nimport Show from \"./panels/Show\";\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState(\"start\");\n\n\tconst changePanel = (p) => {\n\t\tsetActivePanel(p);\n\t\twindow.history.pushState({panel: p}, \"\");\n\t};\n\n\tuseEffect(() => {\n\t\twindow.history.pushState({panel: \"start\"}, \"\");\n\t\twindow.onpopstate = function(e) {\n\t\t\tsetActivePanel((e.state && e.state.panel) || \"start\")\n\t\t};\n\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<View activePanel={activePanel}>\n\t\t\t<Start id=\"start\" go={changePanel}/>\n\t\t\t<NewPodcast id=\"newPodcast\" go={changePanel}/>\n\t\t\t<Edit id=\"edit\"/>\n\t\t\t<Show id=\"show\" go={changePanel}/>\n\t\t\t<Finish id=\"finish\" go={changePanel}/>\n\t\t</View>\n\t);\n}\n\nexport default App;\n\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n// if (process.env.NODE_ENV === \"development\") {\n//     import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n// }\n"],"sourceRoot":""}