{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4a62","webpack:///./src/engine/utils.ts","webpack:///./src/engine/topCutter.ts","webpack:///./src/engine/cutoutGenerator.ts","webpack:///./src/snowflake.ts","webpack:///./src/App.vue?2092","webpack:///./src/models/Segment.ts","webpack:///./src/models/Point.ts","webpack:///./src/models/CutoutStep.ts","webpack:///./src/models/Cutout.ts","webpack:///./src/engine/finalGenerator.ts","webpack:///./src/App.vue","webpack:///./src/App.vue?198c","webpack:///./src/App.vue?315a","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","canvasContext","left","right","innerMargin","pointToSegmentMargin","minEdgeSegmentLen","maxEdgeSegmentLen","minCutoutLength","minCutoutSq","maxCutoutSq","maxCutoutStretch","maxProjection","tm","bm","mw","mh","minCutoutsCount","maxCutoutsCount","maximumGlobalIterations","maximumIterations","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","directives","rawName","expression","domProps","on","$event","cutoutsRatio","_v","_s","generate","generateImage","staticRenderFns","_start","_end","start","end","x","y","Math","sqrt","xLen","yLen","atan2","ang","PI","revAng","xx","yy","A","B","C","D","dot","lenSq","param","dx","dy","_x","_y","rand","min","max","random","dist","p1","p2","prob","segment","fraction","xTrim","yTrim","margin","len","startEdge","endEdge","f","point","getContext","forceClear","canvas","getElementById","calcSquare","p3","a","b","ratio","randomPointWithMargin","ss","cos","sin","toRad","maxAng","minAng","fullCutProb","fullCutMinFraction","fullCutMaxFraction","partCutMinLen","partCutMaxLen","topLastPt","topFirstAng","revAngDeg","topFirstLen","topFirst","topToIntersect","intPt","next","_points","points","ctx","allX","map","allY","minX","minY","w","h","storedRectX","storedRectY","storedRect","getImageData","putImageData","lineWidth","setLineDash","strokeStyle","beginPath","moveTo","lineTo","stroke","globalCompositeOperation","closePath","fill","sideSeg","firstSeg","secondSeg","maxSlantAng","segments","suitableSegments","filter","sumLength","reduce","sum","currentLength","indexOf","proj","minDist","Number","MAX_VALUE","forEach","distanceToPoint","initCutoutGen","longest","sqRatio","quarterRatio","cutouts","segmentIndex","centerPoint","shortestSide","halfSideLen","segmentAng","angDeg","normal","slantAng","topHalf","bottomHalf","sideSegment","fullLen","allSeg","concat","flat","steps","ceil","stepSize","maxLen","startProj","minLen","pointDistanceCheck","cutoutLength","cutoutMain","topSegment","bottomSegment","mainPoint","minDistPS","allPoints","minDistSP","startSegment","endSegment","cutout","generateFullSnowflake","canvasSrc","canvasFinal","resetTransform","clearRect","width","height","longestSide","scale","translate","brightnesses","rotate","drawImage","totalCutoutsSteps","cRatio","cutoutSteps","uncutSteps","finished","init","topMargin","bottomMargin","documentElement","clientHeight","tan","fillStyle","minCutouts","maxCutouts","maxGlobalIterations","maxSubIterations","globalIterations","topSegments","topPoints","ts","iterations","toCutoutStep","maxCutsPerStep","us","restoreCanvasRect","cut","step","storeCanvasRect","draw","extend","sideMargin","triangleData","mounted","setSizes","$nextTick","methods","finalSize","clientWidth","cFin","root","style","setProperty","log","ci","fillRect","startX","nextX","doc","addImage","toDataURL","save","component","config","productionTip","render","App","$mount"],"mappings":"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","file":"js/app.1c5b338d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-1bfaad5a\":\"9fcf989f\",\"chunk-2d216214\":\"a631c492\",\"chunk-2d216257\":\"d8c9bc89\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","/* eslint-disable no-param-reassign,@typescript-eslint/no-explicit-any */\nimport { checkIntersection } from 'line-intersect';\nimport Point from '@/models/Point';\nimport Segment from '@/models/Segment';\n\nexport const rand = (min: number, max: number): number => Math.random() * (max - min) + min;\nexport const randInt = (min: number, max: number): number => {\n    const r = min + Math.random() * (max + 1 - min);\n    return Math.floor(r);\n};\n\n// eslint-disable-next-line max-len\nexport const dist = (p1: Point, p2: Point): number => Math.sqrt((p1.x - p2.x) ** 2 + (p1.y - p2.y) ** 2);\n\nexport const prob = (p: number): boolean => Math.random() < p;\n\nexport const getPointFromStart = (segment: Segment, fraction: number): Point => {\n    const { xLen, yLen } = segment;\n    const xTrim = fraction * xLen;\n    const yTrim = fraction * yLen;\n    return new Point(segment.start.x + xTrim, segment.start.y + yTrim);\n};\n\nexport const getSubSegment = (segment: Segment, margin: number): Segment => {\n    const l = segment.len;\n    const startEdge = margin / l;\n    const endEdge = 1 - startEdge;\n    return new Segment(getPointFromStart(segment, startEdge), getPointFromStart(segment, endEdge));\n};\n\nexport const intersect = (f: Segment, s: Segment): Point | null => {\n    const i = checkIntersection(\n        f.start.x,\n        f.start.y,\n        f.end.x,\n        f.end.y,\n        s.start.x,\n        s.start.y,\n        s.end.x,\n        s.end.y,\n    ) as any;\n\n    if (i.point) {\n        return new Point(i.point.x, i.point.y);\n    }\n\n    return null;\n};\n\nlet canvasContext: CanvasRenderingContext2D;\n\nexport const getContext = (forceClear = false): CanvasRenderingContext2D => {\n    if (canvasContext && !forceClear) return canvasContext;\n    const canvas = <HTMLCanvasElement>document.getElementById('canvas');\n    canvasContext = <CanvasRenderingContext2D>canvas.getContext('2d');\n    return canvasContext;\n};\n\nexport const calcSquare = (p1: Point, p2: Point, p3: Point): number => {\n    const a = dist(p1, p2);\n    const b = dist(p2, p3);\n    const c = dist(p3, p1);\n    const p = (a + b + c) / 2;\n\n    return Math.sqrt(p * (p - 1) * (p - b) * (p - c));\n};\n\nexport const randomPointBetween = (p1: Point, p2: Point): Point => {\n    const dx = p2.x - p1.x;\n    const dy = p2.y - p1.y;\n    const ratio = Math.random();\n\n    return new Point(p1.x + dx * ratio, p1.y + dy * ratio);\n};\n\nexport const randomPointWithMargin = (segment: Segment, margin: number): Point => {\n    const ss = getSubSegment(segment, margin);\n    return randomPointBetween(ss.start, ss.end);\n};\n\nexport const fromAngAndLen = (start: Point, ang: number, len: number): Segment => {\n    const end = new Point(start.x + len * Math.cos(ang), start.y + len * Math.sin(ang));\n    return new Segment(start, end);\n};\n\nexport const drawSegment = (\n    ctx: CanvasRenderingContext2D,\n    segment: Segment,\n    color = '#ff0000',\n    width = 2,\n): void => {\n    ctx.strokeStyle = color;\n    ctx.lineWidth = width;\n    ctx.setLineDash([]);\n    ctx.beginPath();\n    ctx.moveTo(segment.start.x, segment.start.y);\n    ctx.lineTo(segment.end.x, segment.end.y);\n    ctx.stroke();\n};\n\nexport const toRad = Math.PI / 180;\n","import Segment from '@/models/Segment';\nimport {\n    fromAngAndLen, getPointFromStart, intersect, prob, rand, randomPointBetween, toRad,\n} from '@/engine/utils';\nimport Point from '@/models/Point';\n\nlet left: Segment;\nlet right: Segment;\nlet top: Segment;\nconst maxAng = 45;\nconst minAng = 15;\nconst fullCutProb = 0.1;\nconst fullCutMinFraction = 0.25;\nconst fullCutMaxFraction = 0.5;\nconst partCutMinLen = 0.3;\nconst partCutMaxLen = 0.8;\n\nexport const initTopCutter = (l: Segment, r: Segment): void => {\n    left = l;\n    right = r;\n    top = new Segment(left.end, right.start);\n};\n\nexport const generateTop = (): Segment[] => {\n    if (prob(fullCutProb)) {\n        // full cut\n        const topLastPt = getPointFromStart(right, rand(fullCutMinFraction, fullCutMaxFraction));\n        return [new Segment(left.end, topLastPt)];\n    }\n\n    // part cut\n    const topFirstAng = left.revAngDeg - rand(minAng, maxAng);\n    const topFirstLen = top.len * rand(partCutMinLen, partCutMaxLen);\n    const topFirst = fromAngAndLen(left.end, topFirstAng * toRad, topFirstLen);\n    const topToIntersect = fromAngAndLen(left.end, topFirstAng * toRad, left.len);\n    const intPt = intersect(right, topToIntersect) as Point;\n\n    const next = new Segment(topFirst.end, randomPointBetween(right.start, intPt));\n    return [topFirst, next];\n};\n","import Segment from '@/models/Segment';\nimport Cutout from '@/models/Cutout';\nimport {\n    dist,\n    fromAngAndLen, getPointFromStart,\n    intersect,\n    rand,\n    randomPointWithMargin,\n    toRad,\n} from '@/engine/utils';\nimport Point from '@/models/Point';\n\nlet margin: number;\nlet innerMargin: number;\nlet pointToSegmentMargin: number;\nlet minEdgeSegmentLen: number;\nlet maxEdgeSegmentLen: number;\nlet minCutoutLength: number;\nlet minCutoutSq: number;\nlet maxCutoutSq: number;\nlet maxCutoutStretch: number;\nconst maxSlantAng = 60;\nlet maxProjection: number;\n\nconst selectSegment = (segments: Segment[]) => {\n    const suitableSegments = segments.filter((s) => s.len >= margin * 2 + minEdgeSegmentLen);\n    if (suitableSegments.length === 0) return -1;\n\n    // select segments based on its length\n    const sumLength = suitableSegments.reduce((sum, { len }) => sum + len, 0);\n    const r = rand(0, sumLength);\n    let currentLength = 0;\n    for (let i = 0; i < suitableSegments.length; i++) {\n        currentLength += suitableSegments[i].len;\n        if (r <= currentLength) return segments.indexOf(suitableSegments[i]);\n    }\n\n    return -1;\n};\n\nconst shortestDist = (segments: Segment[], proj: Segment) => {\n    let minDist = Number.MAX_VALUE;\n    segments.forEach((s) => {\n        const i = intersect(s, proj);\n        if (i !== null) {\n            const d = dist(i, proj.start);\n            if (d < minDist) {\n                minDist = d;\n            }\n        }\n    });\n\n    return minDist;\n};\n\nconst shortestDistBetweenPointAndSegments = (segments: Segment[], p: Point) => Math.min(\n    ...segments.map((s) => s.distanceToPoint(p)),\n);\n\nconst shortestDistBetweenPointsAndSegment = (s: Segment, points: Point[]) => Math.min(\n    ...points.map((p) => s.distanceToPoint(p)),\n);\n\nexport const initCutoutGen = (cutoutsRatio: number, w: number, longest: number): void => {\n    const sqRatio = cutoutsRatio ** 0.5;\n    const quarterRatio = cutoutsRatio ** 0.25;\n    margin = (w * 0.08) / sqRatio;\n    innerMargin = (margin * 2) / quarterRatio;\n    pointToSegmentMargin = margin / quarterRatio;\n    minEdgeSegmentLen = (w * 0.1) / cutoutsRatio;\n    maxEdgeSegmentLen = (w * 0.5) / Math.max(1, quarterRatio);\n    minCutoutSq = (w * w * 0.04) / cutoutsRatio;\n    maxCutoutSq = (w * w * 0.10) / Math.max(1, quarterRatio);\n    maxProjection = longest * 2;\n    minCutoutLength = minEdgeSegmentLen / 2;\n    maxCutoutStretch = 5 * Math.max(1, cutoutsRatio);\n};\n\nexport const generateCutout = (segments: Segment[], cutouts: Cutout[]): Cutout | null => {\n    // select segment and remove\n    const segmentIndex = selectSegment(segments);\n    if (segmentIndex === -1) return null;\n    const segment = segments[segmentIndex];\n\n    // choose center point and sides\n    const centerPoint = randomPointWithMargin(segment, margin + minEdgeSegmentLen / 2);\n    const shortestSide = Math.min(dist(centerPoint, segment.start), dist(centerPoint, segment.end));\n    const halfSideLen = rand(minEdgeSegmentLen / 2,\n        Math.min(shortestSide - margin, maxEdgeSegmentLen / 2));\n\n    // select angles\n    const segmentAng = segment.angDeg;\n    const normal = segmentAng + 90;\n    const slantAng = rand(normal - maxSlantAng, normal + maxSlantAng);\n\n    // create side segment\n    const topHalf = fromAngAndLen(centerPoint, segmentAng * toRad, halfSideLen);\n    const bottomHalf = fromAngAndLen(centerPoint, (segmentAng + 180) * toRad, halfSideLen);\n    const sideSegment = new Segment(bottomHalf.end, topHalf.end);\n    const fullLen = sideSegment.len;\n\n    // construct segments list to check intersections\n    const allSeg = segments.filter((s) => s !== segment)\n        .concat(cutouts.map(((c) => [c.firstSeg, c.secondSeg])).flat());\n\n    // maximum length of cutout\n    // resolution of steps is twice higher than minimum cutout width\n    const steps = Math.ceil((fullLen * 2) / minEdgeSegmentLen);\n    const stepSize = fullLen / steps;\n    let maxLen = Number.MAX_VALUE;\n\n    // create projection for every step\n    for (let i = 0; i < steps; i++) {\n        const startProj = getPointFromStart(sideSegment, (i * stepSize) / fullLen);\n        const proj = fromAngAndLen(startProj, slantAng * toRad, maxProjection);\n        const minDist = shortestDist(allSeg, proj);\n        if (minDist < maxLen) {\n            maxLen = minDist;\n        }\n    }\n\n    // if there are no normal intersections skip creating current cutout\n    if (maxLen > maxProjection) return null;\n    maxLen -= innerMargin;\n\n    // truncate length based on maximum square and maximum stretch\n    maxLen = Math.min(maxLen, maxCutoutSq / halfSideLen, maxCutoutStretch * halfSideLen * 2);\n    const minLen = Math.max(minCutoutLength, minCutoutSq / halfSideLen);\n\n    // edges are too close\n    if (maxLen < minLen) return null;\n\n    // generate length and segments\n    let pointDistanceCheck = false;\n    let cutoutLength: number = rand(minLen, maxLen);\n    let cutoutMain: Segment = fromAngAndLen(centerPoint, slantAng * toRad, cutoutLength);\n    let topSegment: Segment | null = null;\n    let bottomSegment: Segment | null = null;\n\n    while (!pointDistanceCheck) {\n        if (cutoutLength < minLen) return null;\n\n        // check new point for distance with segments\n        const mainPoint = cutoutMain.end;\n        const minDistPS = shortestDistBetweenPointAndSegments(allSeg, mainPoint);\n        if (minDistPS < pointToSegmentMargin) {\n            cutoutLength -= pointToSegmentMargin;\n            cutoutMain = fromAngAndLen(centerPoint, slantAng * toRad, cutoutLength);\n        } else {\n            // check new segments for distance with points\n            const allPoints = segments\n                .filter((s) => s !== segment)\n                .map((s) => [s.start, s.end])\n                .flat()\n                .concat(cutouts.map((c) => c.firstSeg.end));\n\n            // create segments to check\n            topSegment = new Segment(sideSegment.end, cutoutMain.end);\n            bottomSegment = new Segment(sideSegment.start, cutoutMain.end);\n            const minDistSP = Math.min(\n                shortestDistBetweenPointsAndSegment(topSegment, allPoints),\n                shortestDistBetweenPointsAndSegment(bottomSegment, allPoints),\n            );\n\n            if (minDistSP < pointToSegmentMargin) {\n                cutoutLength -= pointToSegmentMargin;\n                cutoutMain = fromAngAndLen(centerPoint, slantAng * toRad, cutoutLength);\n            } else {\n                pointDistanceCheck = true;\n            }\n        }\n    }\n\n    topSegment = topSegment || new Segment(sideSegment.end, cutoutMain.end);\n    bottomSegment = bottomSegment || new Segment(sideSegment.start, cutoutMain.end);\n\n    // cut segment and put new segment parts if they are long enough\n    segments.splice(segmentIndex, 1);\n    const startSegment = new Segment(segment.start, sideSegment.start);\n    const endSegment = new Segment(sideSegment.end, segment.end);\n    segments.splice(segmentIndex, 0, startSegment, endSegment);\n\n    // return\n    const cutout = new Cutout(sideSegment, topSegment, bottomSegment);\n    cutouts.push(cutout);\n    return cutout;\n};\n","import { initTopCutter, generateTop } from '@/engine/topCutter';\nimport Point from './models/Point';\nimport Segment from './models/Segment';\nimport { getContext } from '@/engine/utils';\nimport { generateCutout, initCutoutGen } from '@/engine/cutoutGenerator';\nimport Cutout from '@/models/Cutout';\nimport CutoutStep from '@/models/CutoutStep';\nimport generateFullSnowflake from '@/engine/finalGenerator';\n\nlet ctx: CanvasRenderingContext2D;\nlet tm: number;\nlet bm: number;\nlet mw: number;\nlet mh: number;\nlet left: Segment;\nlet right: Segment;\nlet minCutoutsCount: number;\nlet maxCutoutsCount: number;\nlet maximumGlobalIterations: number;\nlet maximumIterations: number;\n\nconst segments: Segment[] = [];\nconst cutouts: Cutout[] = [];\nconst cutoutSteps: CutoutStep[] = [];\nconst uncutSteps: CutoutStep[] = [];\nlet totalCutoutsSteps: number;\nlet finished = false;\nlet cRatio: number;\n\nexport const init = (\n    topMargin = 40,\n    bottomMargin = 50,\n): void => {\n    tm = topMargin;\n    bm = bottomMargin;\n\n    const canvas = <HTMLCanvasElement>document.getElementById('canvas');\n    const h = document.documentElement.clientHeight * 2;\n    mh = h - tm * 2 - bm * 2;\n    mw = 2 * mh * Math.tan(Math.PI * 0.08333);\n    canvas.width = mw;\n    canvas.height = mh;\n};\n\nconst startTriangle = (): void => {\n    const x = 0;\n    const y = 0;\n\n    ctx.fillStyle = '#ffffff';\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + mw, y);\n    ctx.lineTo(mw / 2, y + mh);\n    ctx.closePath();\n    ctx.fill();\n\n    left = new Segment(new Point(mw / 2, y + mh), new Point(x, y));\n    right = new Segment(new Point(x + mw, y), new Point(mw / 2, y + mh));\n    initTopCutter(left, right);\n    initCutoutGen(cRatio, mw, Math.max(mw, mh));\n};\n\nconst reset = ():void => {\n    segments.splice(0);\n    cutouts.splice(0);\n    cutoutSteps.splice(0);\n    uncutSteps.splice(0);\n};\n\nexport const setup = (\n    cutoutsRatio = 1.0,\n    minCutouts = 1,\n    maxCutouts = Number.MAX_VALUE,\n    maxGlobalIterations = 10,\n    maxSubIterations = 5000,\n): void => {\n    ctx = getContext(true);\n    ctx.resetTransform();\n    ctx.clearRect(0, 0, mw, mh);\n    cRatio = cutoutsRatio;\n    minCutoutsCount = minCutouts;\n    maxCutoutsCount = maxCutouts;\n    maximumGlobalIterations = maxGlobalIterations;\n    maximumIterations = maxSubIterations;\n    finished = false;\n\n    reset();\n    startTriangle();\n};\n\nexport const generate = (): void => {\n    let globalIterations = maximumGlobalIterations;\n    while ((cutouts.length < minCutoutsCount || cutouts.length > maxCutoutsCount)\n        && globalIterations-- > 0) {\n        // reset\n        reset();\n\n        // generate base and top\n        segments.push(new Segment(left.start, left.end), new Segment(right.start, right.end));\n        const topSegments: Segment[] = generateTop();\n\n        // save top points as first cutout step\n        const topPoints: Point[] = topSegments.map((ts) => ts.start);\n        topPoints.push(topSegments[topSegments.length - 1].end, right.start);\n        cutoutSteps.push(new CutoutStep(topPoints));\n\n        // cut right segment\n        segments[segments.length - 1].start = topSegments[topSegments.length - 1].end;\n\n        // add new segments\n        segments.splice(1, 0, ...topSegments);\n\n        // generate cutouts\n        let iterations = maximumIterations;\n        while (iterations-- > 0 && segments.length > 0) {\n            const cutout = generateCutout(segments, cutouts);\n            if (cutout !== null) {\n                iterations = maximumIterations;\n                cutoutSteps.push(cutout.toCutoutStep());\n            }\n        }\n        totalCutoutsSteps = cutoutSteps.length;\n    }\n};\n\nexport const nextStep = (maxCutsPerStep = 1): number => {\n    uncutSteps.forEach((us) => us.restoreCanvasRect());\n    while (uncutSteps.length > 0) {\n        (uncutSteps.shift() as CutoutStep).cut();\n    }\n    // just snow final snowflake\n    if (cutoutSteps.length === 0) {\n        if (!finished) {\n            generateFullSnowflake();\n            finished = true;\n            return -1;\n        }\n        return -2;\n    }\n    // first step always single\n    if (totalCutoutsSteps === cutoutSteps.length) {\n        const step = cutoutSteps.shift() as CutoutStep;\n        step.storeCanvasRect();\n        step.draw();\n        uncutSteps.push(step);\n        return 0;\n    }\n    // other steps single or in groups\n    const steps = cutoutSteps.splice(0, maxCutsPerStep);\n    steps.forEach((s) => s.storeCanvasRect());\n    steps.forEach((s) => s.draw());\n    uncutSteps.push(...steps);\n    return steps.length;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"buttons-block\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cutoutsRatio),expression:\"cutoutsRatio\"}],attrs:{\"type\":\"range\",\"min\":\"0.5\",\"max\":\"9\",\"step\":\"0.1\"},domProps:{\"value\":(_vm.cutoutsRatio)},on:{\"__r\":function($event){_vm.cutoutsRatio=$event.target.value}}}),_c('span',[_vm._v(_vm._s(_vm.cutoutsRatio))]),_c('button',{on:{\"click\":function () { return _vm.generate(); }}},[_vm._v(\"Generate\")]),_c('button',{on:{\"click\":function () { return _vm.generateImage(); }}},[_vm._v(\"Get PDF\")])]),_c('div',{staticClass:\"canvas-block\"},[_c('canvas',{key:\"cv\",attrs:{\"id\":\"canvas\"}}),_c('canvas',{key:\"cf\",attrs:{\"id\":\"cFinal\"}})]),_c('canvas',{key:\"ci\",attrs:{\"id\":\"imageCanvas\",\"width\":\"2100\",\"height\":\"2970\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Point from './Point';\n\nexport default class Segment {\n    public start: Point;\n\n    public end: Point;\n\n    constructor(_start: Point, _end: Point) {\n        this.start = _start;\n        this.end = _end;\n    }\n\n    public get xLen(): number {\n        return this.end.x - this.start.x;\n    }\n\n    public get yLen(): number {\n        return this.end.y - this.start.y;\n    }\n\n    public get len(): number {\n        return Math.sqrt(this.xLen ** 2 + this.yLen ** 2);\n    }\n\n    public get ang(): number {\n        return Math.atan2(this.end.y - this.start.y, this.end.x - this.start.x);\n    }\n\n    public get angDeg(): number {\n        return this.ang * (180 / Math.PI);\n    }\n\n    public get revAng(): number {\n        return Math.atan2(this.start.y - this.end.y, this.start.x - this.end.x);\n    }\n\n    public get revAngDeg(): number {\n        return this.revAng * (180 / Math.PI);\n    }\n\n    public distanceToPoint(p: Point): number {\n        const A = p.x - this.start.x;\n        const B = p.y - this.start.y;\n        const C = this.xLen;\n        const D = this.yLen;\n\n        const dot = A * C + B * D;\n        const lenSq = C * C + D * D;\n        let param = -1;\n        if (lenSq !== 0) param = dot / lenSq;\n\n        let xx;\n        let yy;\n\n        if (param < 0) {\n            xx = this.start.x;\n            yy = this.start.y;\n        } else if (param > 1) {\n            xx = this.end.x;\n            yy = this.end.y;\n        } else {\n            xx = this.start.x + param * C;\n            yy = this.start.y + param * D;\n        }\n\n        const dx = p.x - xx;\n        const dy = p.y - yy;\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n}\n","export default class Point {\n    public x: number;\n\n    public y: number;\n\n    constructor(_x: number, _y: number) {\n        this.x = _x;\n        this.y = _y;\n    }\n\n    public equals(p: Point) {\n        return this.x === p.x && this.y === p.y;\n    }\n}\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport Point from '@/models/Point';\nimport { getContext } from '@/engine/utils';\n\nexport default class CutoutStep {\n    public points: Point[];\n\n    // @ts-ignore\n    private storedRect: ImageData;\n\n    // @ts-ignore\n    private storedRectX: number;\n\n    // @ts-ignore\n    private storedRectY: number;\n\n    constructor(_points: Point[]) {\n        this.points = _points;\n    }\n\n    public storeCanvasRect(): void {\n        const ctx = getContext();\n        const allX = this.points.map((p) => p.x);\n        const allY = this.points.map((p) => p.y);\n        const minX = Math.min(...allX);\n        const minY = Math.min(...allY);\n        const margin = 20;\n        const w = Math.max(...allX) - minX;\n        const h = Math.max(...allY) - minY;\n        this.storedRectX = minX - margin;\n        this.storedRectY = minY - margin;\n\n        this.storedRect = ctx.getImageData(\n            this.storedRectX,\n            this.storedRectY,\n            w + margin * 2,\n            h + margin * 2,\n        );\n    }\n\n    public restoreCanvasRect(): void {\n        const ctx = getContext();\n        ctx.putImageData(this.storedRect, this.storedRectX, this.storedRectY);\n    }\n\n    public draw(): void {\n        const ctx = getContext();\n        ctx.lineWidth = 4;\n        ctx.setLineDash([15, 15]);\n        ctx.strokeStyle = '#ff0000';\n        ctx.beginPath();\n        ctx.moveTo(this.points[0].x, this.points[0].y);\n        for (let i = 1; i < this.points.length - 1; i++) {\n            ctx.lineTo(this.points[i].x, this.points[i].y);\n        }\n        ctx.stroke();\n    }\n\n    public cut(): void {\n        const ctx = getContext();\n        ctx.globalCompositeOperation = 'destination-out';\n        ctx.setLineDash([]);\n        ctx.lineWidth = 1;\n        ctx.beginPath();\n        ctx.moveTo(this.points[0].x, this.points[0].y);\n        for (let i = 1; i < this.points.length; i++) {\n            ctx.lineTo(this.points[i].x, this.points[i].y);\n        }\n        ctx.closePath();\n        ctx.fill();\n        ctx.stroke();\n        ctx.globalCompositeOperation = 'source-over';\n    }\n}\n","import Segment from '@/models/Segment';\nimport { calcSquare } from '@/engine/utils';\nimport Point from '@/models/Point';\nimport CutoutStep from '@/models/CutoutStep';\n\nexport default class Cutout {\n    public sideSeg: Segment;\n\n    public firstSeg: Segment;\n\n    public secondSeg: Segment;\n\n    constructor(sideSeg: Segment, firstSeg: Segment, secondSeg: Segment) {\n        this.sideSeg = sideSeg;\n        this.firstSeg = firstSeg;\n        this.secondSeg = secondSeg;\n    }\n\n    public get square(): number {\n        return calcSquare(this.sideSeg.start, this.sideSeg.end, this.firstSeg.end);\n    }\n\n    public get points(): Point[] {\n        return [this.sideSeg.start, this.firstSeg.end, this.sideSeg.end, this.sideSeg.start];\n    }\n\n    public toCutoutStep(): CutoutStep {\n        return new CutoutStep(this.points);\n    }\n}\n","import { toRad } from '@/engine/utils';\n\nexport default function generateFullSnowflake(): void {\n    const canvasSrc = <HTMLCanvasElement>document.getElementById('canvas');\n    const canvasFinal = <HTMLCanvasElement>document.getElementById('cFinal');\n    const ctx = <CanvasRenderingContext2D>canvasFinal.getContext('2d');\n    ctx.resetTransform();\n    ctx.clearRect(0, 0, canvasFinal.width, canvasFinal.height);\n    const w = canvasSrc.width;\n    const h = canvasSrc.height;\n    const longestSide = Math.sqrt((w / 2) ** 2 + h ** 2);\n    const scale = canvasFinal.width / (longestSide * 2);\n\n    ctx.scale(scale, scale);\n    ctx.translate(canvasFinal.width / (2 * scale), canvasFinal.height / (2 * scale));\n\n    const brightnesses: number[] = [100, 97, 93, 100, 97, 100, 97, 90, 97, 93, 97, 93];\n\n    // clockwise parts\n    ctx.rotate(-45 * toRad);\n    for (let i = 0; i < 6; i++) {\n        ctx.filter = `brightness(${(brightnesses[i * 2])}%)`;\n        ctx.rotate(60 * toRad);\n        ctx.drawImage(canvasSrc, -w / 2, -h);\n    }\n\n    // counter clockwise parts\n    ctx.scale(-1, 1);\n    ctx.rotate(-90 * toRad);\n    for (let i = 0; i < 6; i++) {\n        ctx.filter = `brightness(${(brightnesses[11 - i * 2])}%)`;\n        ctx.rotate(60 * toRad);\n        ctx.drawImage(canvasSrc, -w / 2, -h);\n    }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable @typescript-eslint/no-this-alias,@typescript-eslint/no-explicit-any,\n@typescript-eslint/no-empty-function */\nimport Vue from 'vue';\nimport { jsPDF } from 'jspdf';\nimport {\n    init, generate, nextStep, setup,\n} from './snowflake';\n\nexport default Vue.extend({\n    name: 'App',\n    data() {\n        return {\n            topMargin: 40,\n            bottomMargin: 50,\n            sideMargin: 20,\n            cutoutsRatio: 1.7,\n            triangleData: null,\n        };\n    },\n    mounted() {\n        this.setSizes();\n        this.$nextTick(() => {\n            this.generate();\n        });\n    },\n    methods: {\n        setSizes() {\n            const finalSize = Math.min(\n                document.documentElement.clientWidth - this.sideMargin * 2,\n                document.documentElement.clientHeight\n                - this.topMargin - this.bottomMargin,\n            ) * 2;\n            const cFin = document.getElementById('cFinal') as HTMLCanvasElement;\n            cFin.width = finalSize;\n            cFin.height = finalSize;\n\n            const canvas = document.getElementById('canvas') as HTMLCanvasElement;\n            init(this.topMargin, this.bottomMargin);\n\n            const root = document.documentElement;\n            root.style.setProperty('--main-canvas-width', `${canvas.width}px`);\n            root.style.setProperty('--main-canvas-height', `${canvas.height}px`);\n            root.style.setProperty('--final-canvas-size', `${finalSize}px`);\n        },\n        generate() {\n            // generate pattern\n            setup(Number(this.cutoutsRatio));\n            generate();\n\n            let result = 0;\n            while (result !== -2) {\n                console.log(result);\n                result = nextStep(1);\n            }\n        },\n        generateImage() {\n            const canvas = document.getElementById('canvas') as HTMLCanvasElement;\n            const ci = document.getElementById('imageCanvas') as HTMLCanvasElement;\n            const ctx = ci.getContext('2d') as CanvasRenderingContext2D;\n            ctx.resetTransform();\n\n            // fill with white\n            ctx.fillStyle = '#ffffff';\n            ctx.fillRect(0, 0, ci.width, ci.height);\n\n            // prepare\n            const scale = ci.width / (canvas.height * 2);\n            ctx.scale(scale, scale);\n            const startX = (ci.width / scale) / 2 - canvas.width / 2;\n            const nextX = startX + canvas.width;\n\n            // draw triangle\n            ctx.lineWidth = 2;\n            ctx.fillStyle = '#dedede';\n            ctx.strokeStyle = '#eeeeee';\n            ctx.beginPath();\n            ctx.moveTo(startX, 0);\n            ctx.lineTo(nextX, 0);\n            ctx.lineTo(startX + canvas.width / 2, canvas.height);\n            ctx.closePath();\n            ctx.fill();\n            ctx.stroke();\n\n            // cut out\n            ctx.drawImage(canvas, startX, 0);\n\n            // draw line for help\n            ctx.strokeStyle = '#000000';\n            ctx.setLineDash([10, 10]);\n            ctx.beginPath();\n            ctx.moveTo(0, ci.width / scale);\n            ctx.lineTo(ci.width / scale, ci.width / scale);\n            ctx.stroke();\n\n            // create pdf\n            // eslint-disable-next-line new-cap\n            const doc = new jsPDF();\n            doc.addImage(ci.toDataURL('image/jpeg'), 0, 0, 210, 297);\n            doc.save('snowflake.pdf');\n        },\n    },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--15-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--15-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--15-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--15-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2fb35f1c&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport App from './App.vue';\n\nVue.config.productionTip = false;\n\nnew Vue({\n    render: (h) => h(App),\n}).$mount('#app');\n"],"sourceRoot":""}